# Описание
Антон Шейкин как-то сказал: "Силы сотрудников, по моему глубокому убеждению — главный летнешкольный ресурс, и им стоит распоряжаться осмотрительно", подразумевая, конечно, что Красноярская летняя школа продукт штучный и делается *руками* небольшого числа людей. В личном разговоре Антон уточнил, что "КЛШ принципиально не оптимизируема по кадровым причинам", с чем я согласиться никак не могу. Таким образом, существование этого бота можно объяснить моим юношеским максимализмом и тщеславием, а еще непреодолимым желанием поспорить с Антоном Шейкиным наиболее изысканным образом. 

В разные годы в летней школе сотрудники придумывали и порой успешно реализовывали ухищрения, помогавшие упросить технические нюансы работы внутри сезона КЛШ. В 22-м году, например, по утрам выдавалась краткая сводка прошедших планерок, в 23-м году техно-зондера собирали информацию о необходимой технике с помощью системы записок, в 24-м году сообщения о звонках от родителей передавались вручную Викой Луковской напрямую вожатым через телеграмм. С неизбежным уходом сотрудников из жизни КЛШ исчезают и следы их трудов и инициатив — поэтому мне и хотелось, чтобы их дело без устали продолжала машина, в нашем случае бот. 

# Что бот умеет и чему еще только учится?

## Функционал для сотрудников
- **НОВОСТИ**: сообщает всю базовую полезную информацию о наступившем дне — какие турниры проводятся (или факультативы ведутся), какие планируются вечерние мероприятия (что будет в ВК, на Киноклубе, на Самоваре), какая команда дежурит (а какая готовится), сообщает информацию о праздниках (в праздничные дни) и транслирует важные объявления от дирекции (если таковые имеются).
- **Запросить технику**: оставитьте сообщение для всех технозондеров о необходимости получить технику — технозондера смогут обсудить Вашу заявку между собой (например, договориться, кто отнесет технику).
- **Выдать наряд**: оставитьте сообщение для всех сотрудников ПСИН, сообщив им имя школьника (можете ошибиться в имени, бот предложит Вам наиболее подходящие варианты) и причину наряда — заявки не анонимные.
- **Написать сообщение**: выберите получателей: дирекция, вожатые команды (не обязательно Вашей), все направление, судьи турнира, все сотрудники — Вы можете отправить как просто уведомление, так и сообщение, которое получатели смогут прокомментировать (а Вы — посмотреть их комментарии или вовсе удалить сообщение, если вдруг Ваша проблема решилась — оно так же автоматически удалится у Вас из закрепа).
- **Написать слона/педаль**: *(пока не реализовано)* мб стоит отказаться от идеи?
- **Турниры**: *(пока не реализовано)* показывает актуальную информацию о турнирах — кто с кем играет, где проходит турнир, кто судьи. Мб сделать информацию персональной для каждого вожатого? Или просто давать ссылку на гугл таблицу со всей структурированной информацией?
- **Дежурство**: *(пока не реализовано)* показывает инструкции по дежурству.

## Функционал для родителей
- **Пусть ребенок мне позвонит!** позволяет отправить сообщение ребенку (можно ошибиться в имени, тогда бот предложит наиболее подходящие варианты имен — с отчествами, если есть тезки), его тут же получат вожатые этого школьника.
- **Что привезти ребенку?** *(пока не реализовано)* показывает справочную информацию, что можно и нельзя привозить в КЛШ.
- **Расписание КЛШ**: *(пока не реализовано)* показывает изображение с расписанием сезона.
- **Телефоны дирекции**: *(пока не реализовано)* дает номера дирекции (и телефонов, куда звонить)

## Функционал для школьников
- **Что такое КЛШ?**: *(пока не реализовано)* выдает рекламную информацию о КЛШ.
- **Как попасть в КЛШ?** *(пока не реализовано)* сообщение с информацией о всех мероприятиях, по результатам которых можно поступить в КЛШ.
- **Буклет этого года** *(пока не реализовано)*
- **Архив КЛШ** *(пока не реализовано)* было бы здорово, если б школьники могли посмотреть, какие были задания на зимней олимпиаде и собеседовании в прошлом году — чтобы заранее оценить свои шансы и как-то морально подготовиться.

# Инструкция: как начать пользоваться ботом?

**Шаг 0.** Узнайте свой численный id в тг. Для этого запустите (\start) бот @userinfobot -- и сохраните id, который он Вам напишет.

**Шаг 1.** Внесите информацию о себе в гугл-таблицу: https://docs.google.com/spreadsheets/d/13VT8JYgHeV15OVWMyquFffqGK_YBO8nPuFzf6PTMFkw/edit?gid=0#gid=0

* Колонка "код" -- Ваш код доступа (для теста придумайте свой);

* Колонка "telegram" -- Ваш численный id, который Вы узнали на шаге 0;

* Колонки "имя" и "фамилия" -- Ваши имя и фамилия;

* Колонка "статус" -- Ваш статус: 0 -- дирекция, 1 -- сотрудник, 2 -- зондер(пока не реализовано);

* Колонки "направление" и "команда" -- Ваше направление и команда;

* Колонка "судья" -- являетесь ли Вы судьей на турнире: 0 -- нет, 1 -- да (автоматически определяет, судьей какого турнира Вы являетесь);

* Колонка "технозондер" -- ответственны ли Вы за технику: 0 -- нет, 1 -- да;

* Колонка "псин" -- ответственны ли Вы за выдачу нарядов: 0 -- нет, 1 -- да;

* Колонка "дежурство" -- дежурите ли Вы (пока ненужная колонка, мб ее в будущем удалим): 0 -- нет, 1 -- да;

* Колонка "праздник" -- ответственны ли Вы за праздник (пока ненужная колонка, мб ее в будущем удалим): 0 -- нет, 1 -- да;

**Шаг 2.** Добавьтесь в технический канал: https://t.me/+6U2YMfGLviwxNzAy (и в связанный с ним чат, чтобы иметь возможность комментировать сообщения) — можете сразу отправить его в архив, он вам не понадобится!

**Шаг 3.** Напишите боту!

# Сторонние гугл таблицы

* [https://docs.google.com/spreadsheets/d/1dsDE2ydedzEAwdtHJESx39o5Clb2cEnV5ySAGFjW_eQ/edit?gid=0#gid=0](https://docs.google.com/spreadsheets/d/1dsDE2ydedzEAwdtHJESx39o5Clb2cEnV5ySAGFjW_eQ/edit?usp=sharing) -- таблица с информацией о школьниках (колонка "телефон" пока нигде использована не была)

* [https://docs.google.com/spreadsheets/d/1YOMc2k5hTNFMYeie_zbDLjMqmBRPGPKKSD8r6Tr9R9Y/edit?usp=sharing](https://docs.google.com/spreadsheets/d/1YOMc2k5hTNFMYeie_zbDLjMqmBRPGPKKSD8r6Tr9R9Y/edit?usp=sharing) -- таблица с новостями: какие турниры, какие вечерние мероприятия и т.д.

# С чем можно помочь?
Текущая рабочая версия бота пока не оптимизирована, и не все функции в ней реализованы. Поэтому помочь можно следующим:

* Помощь с оптимизацией. В ветке **new** вы можете найти код бота, разбитый на модули. В каждом модуле код уже написан асинхронно -- осталось только модули между собой согласовать. Работа монотонная и скучная, но выполнимая.

* Помощь с деплоем. Я пока что задеплоил бота на бесплатном сервере Render -- вроде работает. Хотя иногда спустя какое-то время отключается, не знаю, почему. Мб потому что аккаунт бесплатный, а мб потому что я меняю README.md -- и он сбоит. 

* Помощь с текстами. В некотором числе случаев нереализованный функционал -- это просто отстутствие текста, который по идее должен высвечиваться при нажатии пользователем на ту или иную кнопку. Не хватает текста, который бы высвечивался при нажатии на кнопку: 0) Вступительное слово для бота -- пока что там "Приветствую, кожаный мешок", а хотелось бы справку с командами и рекомендациями о том, что делать, если бот завис"; 1) *"Что такое КЛШ?"* (рекламный текст о КЛШ для школьников и их родителей); 2) *"Как попасть в КЛШ?"* (текст со всеми мероприятиями КЛШ в межсезонье и нужными ссылками); 3) *"Что привезти ребенку?"* (текст-рекомендации для родителей о том, что, когда и в каких количествах можно привезти школьнику); 4) *"Телефоны дирекции"* (просто телефоны для связи родителей с КЛШ); 5) *"Дежурство"* (текст-инструкция для сотрудников о том, как проходит дежурство в КЛШ).

* Помощь с доработкой бота. Пока нет кода для таких кнопок как: 1) *"Расписание КЛШ"* (думаю, бот должен просто показывать картинку с расписанием); 2) *"Буклет этого года"* (аналогично, думаю, бот должен просто показывать файл буклета с курсами); 3) *"Архив КЛШ"* (мне кажется, было бы полезным сделать архив КЛШ или его аналог -- и хотя бы показывать примеры задач с зимней олимпиады и собеседования прошлого года); 4) *"Написать слона/педаль"* (думаю, стоит отказаться от этой идеи...); 5) *"Турниры"* (надо подумать, как лучше представить информацию о проходящих турнирах -- кто с кем и где играет, кто судьи, какой рейтинг у команд, какие баллы за сыгранные игры).

* Дальнейшее улучшение бота. Мне кажется, что следующим глобальным шагом могло бы стать оцифровывание (или приведение в доступный для бота вид) всех имеющихся задач за 50 лет существования КЛШ. А затем засунуть в бот какую-нибудь (не обязательно огромную) LLM, дообучить ее на задачах (или просто дать ей доступ к массиву задач), и пусть она придумывает шаблоны задач по запросу -- можно для каких-нибудь простых мероприятий, например, задачи на биатлон или КНТ. Можно еще что-нибудь придумать!

# Демонстрация работы бота 
